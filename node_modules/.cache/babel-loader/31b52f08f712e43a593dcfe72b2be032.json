{"ast":null,"code":"var _jsxFileName = \"C:\\\\apps\\\\Flower_Delivery_Website\\\\src\\\\home_page\\\\Detail.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment } from 'react';\nimport Header from '../general/Header';\nimport Footer from '../general/Footer';\nimport product from '../assets/images/product.png';\nimport loginLogo from '../assets/images/main_login_pic.png';\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Detail = () => {\n  _s();\n\n  window.scrollTo(0, 0);\n  const navigate = useNavigate();\n  var {\n    state\n  } = useLocation();\n  const [product, setProduct] = useState([]);\n  var token = localStorage.getItem('api');\n  var productAPI = 'http://localhost:8080/api/products/' + state.productname;\n\n  const fetchData = () => {\n    fetch(productAPI, {\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      setProduct(data);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  function addToCart(arg) {\n    window.location.reload(false);\n\n    if (state.username) {\n      fetch('http://localhost:8080/api/admin/carts?status=InCart', {\n        method: 'GET',\n        headers: {\n          'Authorization': 'Bearer ' + token,\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.length > 0) {\n          fetch('http://localhost:8080/api/admin/carts', {\n            method: 'PUT',\n            headers: {\n              'Authorization': 'Bearer ' + token,\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: data[0].id,\n              status: \"InCart\",\n              receiver: null,\n              delivery: null,\n              products: [{\n                'id': arg,\n                'quantity': 1\n              }]\n            })\n          }).then(response => {\n            if (response.ok) {\n              return;\n            }\n\n            throw new Error('Failed to add item to cart');\n          }).catch(error => {});\n        } else {\n          fetch('http://localhost:8080/api/admin/carts', {\n            method: 'POST',\n            headers: {\n              'Authorization': 'Bearer ' + token,\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              \"status\": \"InCart\",\n              \"receiver\": null,\n              \"delivery\": null,\n              \"products\": [{\n                \"id\": arg,\n                \"quantity\": 1\n              }]\n            })\n          }).then(response => {\n            if (response.ok) {\n              return;\n            }\n\n            throw new Error('Failed to add item to cart');\n          }).catch(error => {});\n        }\n      });\n    } else {\n      navigate('/login');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userdata: state.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid wide\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"l-5 img__control\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img__product\",\n              src: product.image_url,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"l-6 form__control\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auth-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"auth-form__title\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product_detail_price\",\n                children: [\"$\", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"auth-form__text\",\n                children: product.feature\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product_detail_des\",\n                children: product.detail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auth-form__control\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn_add-to-cart\",\n                  children: \"Buy now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addToCart(product.id),\n                  className: \"btn btn_add-to-cart\",\n                  children: \"Add to cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Detail, \"nX+jL6rIOrAXub7EAOsZVio7EHY=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","Fragment","Header","Footer","product","loginLogo","useLocation","useEffect","useState","useNavigate","Detail","window","scrollTo","navigate","state","setProduct","token","localStorage","getItem","productAPI","productname","fetchData","fetch","headers","then","response","json","data","addToCart","arg","location","reload","username","method","length","body","JSON","stringify","id","status","receiver","delivery","products","ok","Error","catch","error","image_url","name","price","feature","detail"],"sources":["C:/apps/Flower_Delivery_Website/src/home_page/Detail.js"],"sourcesContent":["import React, { Fragment } from 'react'\r\nimport Header from '../general/Header'\r\nimport Footer from '../general/Footer'\r\nimport product from '../assets/images/product.png'\r\nimport loginLogo from '../assets/images/main_login_pic.png'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\"\r\nimport { useNavigate } from 'react-router-dom'\r\nconst Detail = () => {\r\n    window.scrollTo(0, 0)\r\n    const navigate = useNavigate();\r\n    var { state } = useLocation();\r\n    const [product, setProduct] = useState([])\r\n    var token = localStorage.getItem('api');\r\n    var productAPI = 'http://localhost:8080/api/products/'+state.productname;\r\n    const fetchData = () => {\r\n        fetch(productAPI, {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token,\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                setProduct(data)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    function addToCart(arg) {\r\n        window.location.reload(false);\r\n        if (state.username) {\r\n            fetch('http://localhost:8080/api/admin/carts?status=InCart', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + token,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.length>0) {\r\n                    fetch('http://localhost:8080/api/admin/carts', {\r\n                        method: 'PUT',\r\n                        headers: {\r\n                            'Authorization': 'Bearer ' + token,\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify({\r\n                            id: data[0].id,\r\n                            status: \"InCart\",\r\n                            receiver: null,\r\n                            delivery: null,\r\n                            products: [\r\n                                {\r\n                                    'id': arg,\r\n                                    'quantity': 1\r\n                                }\r\n                            ]\r\n                        })\r\n                    })\r\n                        .then(response => {\r\n                            if (response.ok) {\r\n                                return;\r\n                            }\r\n                            throw new Error('Failed to add item to cart');\r\n                        })\r\n                        .catch(error => {\r\n                        });\r\n                }\r\n                else {\r\n                    fetch('http://localhost:8080/api/admin/carts', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Authorization': 'Bearer ' + token,\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify({\r\n                            \"status\": \"InCart\",\r\n                            \"receiver\": null,\r\n                            \"delivery\": null,\r\n                            \"products\": [\r\n                                {\r\n                                    \"id\": arg,\r\n                                    \"quantity\": 1\r\n                                }\r\n                            ]\r\n                        })\r\n                    })\r\n                        .then(response => {\r\n                            if (response.ok) {\r\n                                return;\r\n                            }\r\n                            throw new Error('Failed to add item to cart');\r\n                        })\r\n                        .catch(error => {\r\n                        });\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            navigate('/login');\r\n        }\r\n\r\n    }\r\n  return (\r\n    <Fragment>\r\n        <Header userdata={state.username}/>\r\n        <div className=\"container\">\r\n        <div className=\"grid wide\">\r\n            <div className=\"row\">\r\n                <div className=\"l-5 img__control\">\r\n                    <img className=\"img__product\" src={product.image_url} alt=\"\"/>\r\n                </div>\r\n                <div className=\"l-6 form__control\">\r\n                    <div className=\"auth-form\">\r\n                        <h4 className=\"auth-form__title\">{product.name}</h4>\r\n                        <p className=\"product_detail_price\">${product.price}</p>\r\n                        <hr/>\r\n                        <p className=\"auth-form__text\">{product.feature}</p>  \r\n                        <p className=\"product_detail_des\">{product.detail}</p>\r\n                        <div className=\"auth-form__control\">\r\n                            <button className=\"btn btn_add-to-cart\">Buy now</button>\r\n                            <button onClick={() => addToCart(product.id)} className=\"btn btn_add-to-cart\">Add to cart</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Footer/>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Detail"],"mappings":"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"},"metadata":{},"sourceType":"module"}