{"ast":null,"code":"var _jsxFileName = \"C:\\\\apps\\\\Flower_Delivery_Website\\\\src\\\\home_page\\\\Detail.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment } from 'react';\nimport Header from '../general/Header';\nimport Footer from '../general/Footer';\nimport product from '../assets/images/product.png';\nimport loginLogo from '../assets/images/main_login_pic.png';\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Detail = () => {\n  _s();\n\n  window.scrollTo(0, 0);\n  var {\n    state\n  } = useLocation();\n  const [product, setProduct] = useState([]);\n  var token = localStorage.getItem('api');\n  var productAPI = 'http://localhost:8080/api/products/' + state.productname;\n\n  const fetchData = () => {\n    fetch(productAPI, {\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      setProduct(data);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  var cartItem = [];\n  var cartID = '';\n\n  const fetchData1 = () => {\n    fetch('http://localhost:8080/api/admin/carts?status=InCart', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token,\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log('data:' + data[0].id); // setCartItem(data)\n\n      cartItem.push(data);\n      cartID = data[0].id;\n      console.log(cartItem.length);\n    });\n  };\n\n  fetchData1();\n\n  function addToCart(arg) {\n    if (state.username) {\n      console.log(cartItem.length);\n\n      if (cartItem.length > 0) {\n        fetch('http://localhost:8080/api/admin/carts', {\n          method: 'PUT',\n          headers: {\n            'Authorization': 'Bearer ' + token,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: cartID,\n            status: \"InCart\",\n            receiver: null,\n            delivery: null,\n            products: [{\n              'id': arg,\n              'quantity': 1\n            }]\n          })\n        }).then(response => {\n          if (response.ok) {\n            return;\n          }\n\n          throw new Error('Failed to add item to cart');\n        }).catch(error => {});\n      } else {\n        fetch('http://localhost:8080/api/admin/carts', {\n          method: 'POST',\n          headers: {\n            'Authorization': 'Bearer ' + token,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"status\": \"InCart\",\n            \"receiver\": null,\n            \"delivery\": null,\n            \"products\": [{\n              \"id\": arg.id,\n              \"quantity\": 1\n            }]\n          })\n        }).then(response => {\n          if (response.ok) {\n            return;\n          }\n\n          throw new Error('Failed to add item to cart');\n        }).catch(error => {});\n      }\n    } else {\n      navigate('/login');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userdata: state.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid wide\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"l-5 img__control\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img__product\",\n              src: product.image_url,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"l-6 form__control\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"auth-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"auth-form__title\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product_detail_price\",\n                children: [\"$\", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"auth-form__text\",\n                children: product.feature\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product_detail_des\",\n                children: product.detail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"auth-form__control\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn_add-to-cart\",\n                  children: \"Buy now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addToCart(product.id),\n                  className: \"btn btn_add-to-cart\",\n                  children: \"Add to cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Detail, \"R8WemqRdLtLIlJ3gj6+hUP0OBHY=\", false, function () {\n  return [useLocation];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","Fragment","Header","Footer","product","loginLogo","useLocation","useEffect","useState","Detail","window","scrollTo","state","setProduct","token","localStorage","getItem","productAPI","productname","fetchData","fetch","headers","then","response","json","data","cartItem","cartID","fetchData1","method","console","log","id","push","length","addToCart","arg","username","body","JSON","stringify","status","receiver","delivery","products","ok","Error","catch","error","navigate","image_url","name","price","feature","detail"],"sources":["C:/apps/Flower_Delivery_Website/src/home_page/Detail.js"],"sourcesContent":["import React, { Fragment } from 'react'\r\nimport Header from '../general/Header'\r\nimport Footer from '../general/Footer'\r\nimport product from '../assets/images/product.png'\r\nimport loginLogo from '../assets/images/main_login_pic.png'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\"\r\n\r\nconst Detail = () => {\r\n    window.scrollTo(0, 0)\r\n    var { state } = useLocation();\r\n    const [product, setProduct] = useState([])\r\n    var token = localStorage.getItem('api');\r\n    var productAPI = 'http://localhost:8080/api/products/'+state.productname;\r\n    const fetchData = () => {\r\n        fetch(productAPI, {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token,\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                setProduct(data)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n    var cartItem = [];\r\n    var cartID=''\r\n    const fetchData1 = () => {\r\n        fetch('http://localhost:8080/api/admin/carts?status=InCart', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                console.log('data:'+ data[0].id);\r\n                // setCartItem(data)\r\n                cartItem.push(data)\r\n                cartID = data[0].id;\r\n                console.log(cartItem.length)\r\n            });\r\n    }\r\n    fetchData1();\r\n\r\n    function addToCart(arg) {\r\n        if (state.username) {\r\n\r\n           console.log(cartItem.length)   \r\n            if (cartItem.length>0) {\r\n                fetch('http://localhost:8080/api/admin/carts', {\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Authorization': 'Bearer ' + token,\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        id: cartID,\r\n                        status: \"InCart\",\r\n                        receiver: null,\r\n                        delivery: null,\r\n                        products: [\r\n                            {\r\n                                'id': arg,\r\n                                'quantity': 1\r\n                            }\r\n                        ]\r\n                    })\r\n                })\r\n                    .then(response => {\r\n                        if (response.ok) {\r\n                            return;\r\n                        }\r\n                        throw new Error('Failed to add item to cart');\r\n                    })\r\n                    .catch(error => {\r\n                    });\r\n            }\r\n            else {\r\n                fetch('http://localhost:8080/api/admin/carts', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Authorization': 'Bearer ' + token,\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        \"status\": \"InCart\",\r\n                        \"receiver\": null,\r\n                        \"delivery\": null,\r\n                        \"products\": [\r\n                            {\r\n                                \"id\": arg.id,\r\n                                \"quantity\": 1\r\n                            }\r\n                        ]\r\n                    })\r\n                })\r\n                    .then(response => {\r\n                        if (response.ok) {\r\n                            return;\r\n                        }\r\n                        throw new Error('Failed to add item to cart');\r\n                    })\r\n                    .catch(error => {\r\n                    });\r\n            }\r\n            }\r\n\r\n        else {\r\n            navigate('/login');\r\n        }\r\n    }\r\n  return (\r\n    <Fragment>\r\n        <Header userdata={state.username}/>\r\n        <div className=\"container\">\r\n        <div className=\"grid wide\">\r\n            <div className=\"row\">\r\n                <div className=\"l-5 img__control\">\r\n                    <img className=\"img__product\" src={product.image_url} alt=\"\"/>\r\n                </div>\r\n                <div className=\"l-6 form__control\">\r\n                    <div className=\"auth-form\">\r\n                        <h4 className=\"auth-form__title\">{product.name}</h4>\r\n                        <p className=\"product_detail_price\">${product.price}</p>\r\n                        <hr/>\r\n                        <p className=\"auth-form__text\">{product.feature}</p>  \r\n                        <p className=\"product_detail_des\">{product.detail}</p>\r\n                        <div className=\"auth-form__control\">\r\n                            <button className=\"btn btn_add-to-cart\">Buy now</button>\r\n                            <button onClick={() => addToCart(product.id)} className=\"btn btn_add-to-cart\">Add to cart</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Footer/>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Detail"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACjBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;EACA,IAAI;IAAEC;EAAF,IAAYN,WAAW,EAA3B;EACA,MAAM,CAACF,OAAD,EAAUS,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;EACA,IAAIM,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ;EACA,IAAIC,UAAU,GAAG,wCAAsCL,KAAK,CAACM,WAA7D;;EACA,MAAMC,SAAS,GAAG,MAAM;IACpBC,KAAK,CAACH,UAAD,EAAa;MACdI,OAAO,EAAE;QACL,iBAAiB,YAAYP;MADxB;IADK,CAAb,CAAL,CAKKQ,IALL,CAKUC,QAAQ,IAAI;MACd,OAAOA,QAAQ,CAACC,IAAT,EAAP;IACH,CAPL,EAQKF,IARL,CAQUG,IAAI,IAAI;MACVZ,UAAU,CAACY,IAAD,CAAV;IACH,CAVL;EAWH,CAZD;;EAcAlB,SAAS,CAAC,MAAM;IACZY,SAAS;EACZ,CAFQ,EAEN,EAFM,CAAT;EAGA,IAAIO,QAAQ,GAAG,EAAf;EACA,IAAIC,MAAM,GAAC,EAAX;;EACA,MAAMC,UAAU,GAAG,MAAM;IACrBR,KAAK,CAAC,qDAAD,EAAwD;MACzDS,MAAM,EAAE,KADiD;MAEzDR,OAAO,EAAE;QACL,iBAAiB,YAAYP,KADxB;QAEL,gBAAgB;MAFX;IAFgD,CAAxD,CAAL,CAOKQ,IAPL,CAOUC,QAAQ,IAAI;MACd,OAAOA,QAAQ,CAACC,IAAT,EAAP;IACH,CATL,EAUKF,IAVL,CAUUG,IAAI,IAAI;MACVK,OAAO,CAACC,GAAR,CAAY,UAASN,IAAI,CAAC,CAAD,CAAJ,CAAQO,EAA7B,EADU,CAEV;;MACAN,QAAQ,CAACO,IAAT,CAAcR,IAAd;MACAE,MAAM,GAAGF,IAAI,CAAC,CAAD,CAAJ,CAAQO,EAAjB;MACAF,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACQ,MAArB;IACH,CAhBL;EAiBH,CAlBD;;EAmBAN,UAAU;;EAEV,SAASO,SAAT,CAAmBC,GAAnB,EAAwB;IACpB,IAAIxB,KAAK,CAACyB,QAAV,EAAoB;MAEjBP,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACQ,MAArB;;MACC,IAAIR,QAAQ,CAACQ,MAAT,GAAgB,CAApB,EAAuB;QACnBd,KAAK,CAAC,uCAAD,EAA0C;UAC3CS,MAAM,EAAE,KADmC;UAE3CR,OAAO,EAAE;YACL,iBAAiB,YAAYP,KADxB;YAEL,gBAAgB;UAFX,CAFkC;UAM3CwB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;YACjBR,EAAE,EAAEL,MADa;YAEjBc,MAAM,EAAE,QAFS;YAGjBC,QAAQ,EAAE,IAHO;YAIjBC,QAAQ,EAAE,IAJO;YAKjBC,QAAQ,EAAE,CACN;cACI,MAAMR,GADV;cAEI,YAAY;YAFhB,CADM;UALO,CAAf;QANqC,CAA1C,CAAL,CAmBKd,IAnBL,CAmBUC,QAAQ,IAAI;UACd,IAAIA,QAAQ,CAACsB,EAAb,EAAiB;YACb;UACH;;UACD,MAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;QACH,CAxBL,EAyBKC,KAzBL,CAyBWC,KAAK,IAAI,CACf,CA1BL;MA2BH,CA5BD,MA6BK;QACD5B,KAAK,CAAC,uCAAD,EAA0C;UAC3CS,MAAM,EAAE,MADmC;UAE3CR,OAAO,EAAE;YACL,iBAAiB,YAAYP,KADxB;YAEL,gBAAgB;UAFX,CAFkC;UAM3CwB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;YACjB,UAAU,QADO;YAEjB,YAAY,IAFK;YAGjB,YAAY,IAHK;YAIjB,YAAY,CACR;cACI,MAAMJ,GAAG,CAACJ,EADd;cAEI,YAAY;YAFhB,CADQ;UAJK,CAAf;QANqC,CAA1C,CAAL,CAkBKV,IAlBL,CAkBUC,QAAQ,IAAI;UACd,IAAIA,QAAQ,CAACsB,EAAb,EAAiB;YACb;UACH;;UACD,MAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;QACH,CAvBL,EAwBKC,KAxBL,CAwBWC,KAAK,IAAI,CACf,CAzBL;MA0BH;IACA,CA5DL,MA8DK;MACDC,QAAQ,CAAC,QAAD,CAAR;IACH;EACJ;;EACH,oBACE,QAAC,QAAD;IAAA,wBACI,QAAC,MAAD;MAAQ,QAAQ,EAAErC,KAAK,CAACyB;IAAxB;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAK,SAAS,EAAC,WAAf;MAAA,uBACA;QAAK,SAAS,EAAC,WAAf;QAAA,uBACI;UAAK,SAAS,EAAC,KAAf;UAAA,wBACI;YAAK,SAAS,EAAC,kBAAf;YAAA,uBACI;cAAK,SAAS,EAAC,cAAf;cAA8B,GAAG,EAAEjC,OAAO,CAAC8C,SAA3C;cAAsD,GAAG,EAAC;YAA1D;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QADJ,eAII;YAAK,SAAS,EAAC,mBAAf;YAAA,uBACI;cAAK,SAAS,EAAC,WAAf;cAAA,wBACI;gBAAI,SAAS,EAAC,kBAAd;gBAAA,UAAkC9C,OAAO,CAAC+C;cAA1C;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAEI;gBAAG,SAAS,EAAC,sBAAb;gBAAA,gBAAsC/C,OAAO,CAACgD,KAA9C;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAFJ,eAGI;gBAAA;gBAAA;gBAAA;cAAA,QAHJ,eAII;gBAAG,SAAS,EAAC,iBAAb;gBAAA,UAAgChD,OAAO,CAACiD;cAAxC;gBAAA;gBAAA;gBAAA;cAAA,QAJJ,eAKI;gBAAG,SAAS,EAAC,oBAAb;gBAAA,UAAmCjD,OAAO,CAACkD;cAA3C;gBAAA;gBAAA;gBAAA;cAAA,QALJ,eAMI;gBAAK,SAAS,EAAC,oBAAf;gBAAA,wBACI;kBAAQ,SAAS,EAAC,qBAAlB;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADJ,eAEI;kBAAQ,OAAO,EAAE,MAAMnB,SAAS,CAAC/B,OAAO,CAAC4B,EAAT,CAAhC;kBAA8C,SAAS,EAAC,qBAAxD;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAFJ;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QANJ;YAAA;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA,QAJJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IADA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAwBA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAxBA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA4BD,CA7ID;;GAAMvB,M;UAEcH,W;;;KAFdG,M;AA+IN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}